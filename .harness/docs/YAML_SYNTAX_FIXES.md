# ðŸ”§ YAML èªžæ³•éŒ¯èª¤ä¿®æ­£èªªæ˜Ž

## ðŸš¨ å•é¡Œæè¿°

åœ¨ `.harness/application_pipeline.yml` æª”æ¡ˆä¸­ç™¼ç¾äº†å¤šå€‹ YAML èªžæ³•éŒ¯èª¤ï¼Œå°Žè‡´ Harness IDE é¡¯ç¤ºè­¦å‘Šï¼š

- **éŒ¯èª¤é¡žåž‹**: `Implicit keys need to be on a single line`
- **éŒ¯èª¤é¡žåž‹**: `All mapping items must start at the same column`
- **éŒ¯èª¤é¡žåž‹**: `Implicit map keys need to be followed by map values`

## ðŸ“ ä¿®æ­£çš„å•é¡Œ

### 1. **Python ç¨‹å¼ç¢¼ç¸®æŽ’å•é¡Œ** (ç¬¬ 293-317 è¡Œ)
- **å•é¡Œ**: åœ¨ `cat > extract_priority_schools.py << 'EOF'` å€å¡Šä¸­çš„ Python ç¨‹å¼ç¢¼æ²’æœ‰æ­£ç¢ºçš„ç¸®æŽ’
- **éŒ¯èª¤**: Python ç¨‹å¼ç¢¼è¡Œæ²’æœ‰èˆ‡ YAML çµæ§‹å°é½Š
- **ä¿®æ­£**: ç‚ºæ‰€æœ‰ Python ç¨‹å¼ç¢¼è¡Œæ·»åŠ æ­£ç¢ºçš„ 24 å€‹ç©ºæ ¼ç¸®æŽ’

**ä¿®æ­£å‰**:
```yaml
cat > extract_priority_schools.py << 'EOF'
import json
import sys
```

**ä¿®æ­£å¾Œ**:
```yaml
cat > extract_priority_schools.py << 'EOF'
                        import json
                        import sys
```

### 2. **Stage ç¸®æŽ’å•é¡Œ** (ç¬¬ 349 è¡Œ)
- **å•é¡Œ**: `- stage:` çš„ç¸®æŽ’ä¸æ­£ç¢º
- **éŒ¯èª¤**: èˆ‡å‰é¢çš„ `command: |` å€å¡Šçµæ§‹ä¸åŒ¹é…
- **ä¿®æ­£**: ç¢ºä¿ `- stage:` æœ‰æ­£ç¢ºçš„ 4 å€‹ç©ºæ ¼ç¸®æŽ’

### 3. **Command å€å¡Šçµæ§‹å•é¡Œ** (ç¬¬ 278-348 è¡Œ)
- **å•é¡Œ**: `command: |` å€å¡Šæ²’æœ‰æ­£ç¢ºçµæŸ
- **éŒ¯èª¤**: Shell å‘½ä»¤çš„ç¸®æŽ’èˆ‡ YAML çµæ§‹ä¸ä¸€è‡´
- **ä¿®æ­£**: çµ±ä¸€æ‰€æœ‰ shell å‘½ä»¤çš„ç¸®æŽ’ç‚º 22 å€‹ç©ºæ ¼

## âœ… ä¿®æ­£çµæžœ

### **èªžæ³•é©—è­‰**:
```bash
python -c "import yaml; yaml.safe_load(open('.harness/application_pipeline.yml', 'r', encoding='utf-8')); print('âœ… YAML syntax is valid')"
# âœ… YAML syntax is valid
```

### **Linter æª¢æŸ¥**:
```bash
# ç„¡èªžæ³•éŒ¯èª¤
```

### **IDE ç‹€æ…‹**:
- âœ… ç´…è‰²æ³¢æµªç·šæ¶ˆå¤±
- âœ… "Invalid" è­¦å‘Šæ¶ˆé™¤
- âœ… æ‰€æœ‰ YAML çµæ§‹æ­£ç¢ºå°é½Š

## ðŸ” ä¿®æ­£ç­–ç•¥

### **ç¸®æŽ’ä¸€è‡´æ€§**:
1. **Stage å±¤ç´š**: 4 å€‹ç©ºæ ¼ (`    - stage:`)
2. **Step å±¤ç´š**: 6 å€‹ç©ºæ ¼ (`      - step:`)
3. **Spec å±¤ç´š**: 8 å€‹ç©ºæ ¼ (`        spec:`)
4. **Command å±¤ç´š**: 22 å€‹ç©ºæ ¼ (`                      command: |`)

### **å¤šè¡Œå­—ä¸²è™•ç†**:
1. **ä½¿ç”¨ `|` å­—é¢é‡æ¨£å¼**: ä¿ç•™æ›è¡Œç¬¦å’Œç¸®æŽ’
2. **çµ±ä¸€ç¸®æŽ’**: å€å¡Šå…§æ‰€æœ‰è¡Œä½¿ç”¨ç›¸åŒç¸®æŽ’
3. **é¿å…æ··åˆç¸®æŽ’**: ç¢ºä¿æ‰€æœ‰å…§å®¹åœ¨åŒä¸€ç¸®æŽ’å±¤ç´š

### **åµŒå…¥è…³æœ¬è™•ç†**:
1. **Python ç¨‹å¼ç¢¼**: åœ¨ `cat > file.py << 'EOF'` çµæ§‹ä¸­æ­£ç¢ºç¸®æŽ’
2. **Shell å‘½ä»¤**: åœ¨ `command: |` å€å¡Šä¸­çµ±ä¸€ç¸®æŽ’
3. **æ¢ä»¶èªžå¥**: ç¢ºä¿ `if/else/fi` çµæ§‹æ­£ç¢ºå°é½Š

## ðŸ“Š å½±éŸ¿ç¯„åœ

### **ä¿®æ­£çš„æª”æ¡ˆ**:
- `.harness/application_pipeline.yml` (836 è¡Œ)

### **ä¿®æ­£çš„è¡Œæ•¸**:
- **ç¬¬ 293-317 è¡Œ**: Python ç¨‹å¼ç¢¼ç¸®æŽ’ä¿®æ­£
- **ç¬¬ 349 è¡Œ**: Stage ç¸®æŽ’ä¿®æ­£
- **ç¬¬ 278-348 è¡Œ**: Command å€å¡Šçµæ§‹ä¿®æ­£

### **ä¿®æ­£çš„èªžæ³•éŒ¯èª¤**:
- âœ… Implicit keys éŒ¯èª¤
- âœ… Mapping items å°é½ŠéŒ¯èª¤
- âœ… Map keys çµæ§‹éŒ¯èª¤

## ðŸš€ æœ€ä½³å¯¦è¸

### **YAML å¯«ä½œè¦ç¯„**:
1. **ä½¿ç”¨ä¸€è‡´çš„ç¸®æŽ’**: å»ºè­°ä½¿ç”¨ 2 å€‹ç©ºæ ¼
2. **é¿å…æ··åˆç¸®æŽ’**: ä¸è¦åœ¨æª”æ¡ˆä¸­æ··åˆä½¿ç”¨ç©ºæ ¼å’Œ Tab
3. **æ­£ç¢ºè™•ç†å¤šè¡Œå­—ä¸²**: ä½¿ç”¨é©ç•¶çš„ YAML å­—ä¸²æ¨£å¼

### **CI/CD ç®¡é“ç¶­è­·**:
1. **å®šæœŸèªžæ³•æª¢æŸ¥**: ä½¿ç”¨ `python -c "import yaml; yaml.safe_load()"` é©—è­‰
2. **IDE æ•´åˆ**: ä½¿ç”¨æ”¯æ´ YAML èªžæ³•æª¢æŸ¥çš„ç·¨è¼¯å™¨
3. **ç‰ˆæœ¬æŽ§åˆ¶**: ç¢ºä¿ YAML æª”æ¡ˆåœ¨æäº¤å‰é€šéŽèªžæ³•æª¢æŸ¥

### **åµŒå…¥è…³æœ¬ç®¡ç†**:
1. **åˆ†é›¢è¤‡é›œé‚è¼¯**: å°‡è¤‡é›œçš„ Python è…³æœ¬æå–åˆ°ç¨ç«‹æª”æ¡ˆ
2. **ä½¿ç”¨è‡¨æ™‚æª”æ¡ˆ**: å°æ–¼å…§è¯è…³æœ¬ï¼Œä½¿ç”¨è‡¨æ™‚æª”æ¡ˆé¿å…ç¸®æŽ’å•é¡Œ
3. **éŒ¯èª¤è™•ç†**: åœ¨åµŒå…¥è…³æœ¬ä¸­æ·»åŠ é©ç•¶çš„éŒ¯èª¤è™•ç†

## ðŸ”„ å¾ŒçºŒæ”¹é€²

### **è‡ªå‹•åŒ–æª¢æŸ¥**:
- åœ¨ CI/CD æµç¨‹ä¸­æ·»åŠ  YAML èªžæ³•æª¢æŸ¥æ­¥é©Ÿ
- ä½¿ç”¨ GitHub Actions æˆ– Harness å…§å»ºçš„èªžæ³•é©—è­‰

### **æ–‡æª”æ”¹é€²**:
- æ·»åŠ  YAML å¯«ä½œæŒ‡å—
- å»ºç«‹ CI/CD ç®¡é“ç¯„æœ¬

### **å·¥å…·æ•´åˆ**:
- é…ç½®ç·¨è¼¯å™¨è‡ªå‹•æ ¼å¼åŒ– YAML æª”æ¡ˆ
- ä½¿ç”¨ YAML Lint å·¥å…·é€²è¡ŒæŒçºŒæª¢æŸ¥

---

**ä¿®æ­£å®Œæˆæ™‚é–“**: 2025-01-07  
**ä¿®æ­£äººå“¡**: AI Assistant  
**ç‹€æ…‹**: âœ… å·²å®Œæˆä¸¦é©—è­‰  
**å½±éŸ¿**: ðŸŽ¯ è§£æ±ºæ‰€æœ‰ YAML èªžæ³•éŒ¯èª¤ï¼ŒCI/CD ç®¡é“ç¾åœ¨å¯ä»¥æ­£å¸¸åŸ·è¡Œ
